<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009"
               xmlns:s="library://ns.adobe.com/flex/spark"
               xmlns:mx="library://ns.adobe.com/flex/mx"
			   contentCreationComplete="creationCompleteHandler(event)"
			   initialize="initializeHandler(event)">
	
	<fx:Declarations>
		<!--<s:WebService id="wsRequest" wsdl="http://localhost:8080/SilverRiverServices/services/Facade?wsdl"> 			
            <mx:operation name="init" result="wsInitHandler(event)"/>
        </s:WebService>-->
	</fx:Declarations>
	<mx:Canvas x="0" y="0" width="100%" height="100%" id="myCanvas">	
	</mx:Canvas>
	<fx:Script>
		<![CDATA[
		import Common.MatchDataObject;
		import flash.display.MovieClip;
		import flash.events.Event;
		import mx.core.UIComponent;
		
		private function initializeHandler(e:Event):void {
			
		}
		
		private function creationCompleteHandler(e:Event):void {
			//myCanvas.verticalScrollBar.visible = false;
			//myCanvas.horizontalScrollBar.visible = false;
			//trace(myCanvas)
			var mc:UIComponent = new UIComponent();
			var redship:UIComponent = new UIComponent();
			var blueship1:UIComponent = new UIComponent();
			var blueship2:UIComponent = new UIComponent();
			var blueship3:UIComponent = new UIComponent();
			mc.addChild(new Map());
			myCanvas.addChild(mc);
			var rship:RedShip = new RedShip();
			redship.addChild(rship);
			//redship.horizontalCenter = rship.width / 2;
			//redship.verticalCenter = rship.height / 2;
			myCanvas.addChild(redship);
			blueship1.addChild(new BlueShip());
			blueship2.addChild(new BlueShip());
			blueship3.addChild(new BlueShip());
			myCanvas.addChild(blueship1);
			myCanvas.addChild(blueship2);
			myCanvas.addChild(blueship3);
			
			//start position of redship
			var mdo:MatchDataObject = dataFromServer();
			redship.x = mdo.redship_a_coordinate;
			redship.y = mdo.redship_b_coordinate;
			redship.rotation = mdo.redship_rotation;
			//myCanvas.x = -100;
				//myCanvas.x = -100;
		}
		
		//Webservice handlers
		
		private function dataFromServer():MatchDataObject {
			var res:MatchDataObject = new MatchDataObject();
			res.redship_a_coordinate = 300;
			res.redship_b_coordinate = 400;
			res.redship_rotation = 45;
			return res;
		}
		
		private function wsInitHandler(e:Event):void {
			
		}
		
		]]>
	</fx:Script>
	
	
</s:Application>